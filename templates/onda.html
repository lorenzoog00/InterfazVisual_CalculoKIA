<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>k<sub>G</sub>a Calculation - Onda Equation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <nav class="main-nav">
            <ul>
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('neural_network') }}">k<sub>G</sub>a Methods</a></li>
                <li><a href="{{ url_for('mea_interpolation') }}">MEA Interpolation</a></li>
            </ul>
        </nav>
        <header>
            <h1>k<sub>G</sub>a Calculation using Onda Equation</h1>
            <p class="subtitle">Advanced method for mass transfer coefficient estimation</p>
        </header>
        <main>
            <section class="equation-display">
                <img src="{{ url_for('static', filename='onda.png') }}" alt="Onda Equation" class="equation-image">
                <p class="source-link">Source: <a href="https://drive.google.com/file/d/1q2LG-bpWQlKBMF-8jtk4iKamWCj7p4oq/view?usp=sharing" target="_blank">Reference Document</a></p>
            </section>
            <form action="{{ url_for('onda') }}" method="post" class="calculation-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="material">Packing Material:</label>
                        <select id="material" name="material" required>
                            {% for material in materiales %}
                                <option value="{{ material }}">{{ material }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="size">Packing Size (inches):</label>
                        <select id="size" name="size" required>
                            <!-- Options will be populated dynamically -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="temperature">Temperature (K):</label>
                        <input type="number" id="temperature" name="temperature" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="mass_flow">Mass Flow Rate (kg/s):</label>
                        <input type="number" id="mass_flow" name="mass_flow" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="co2_fraction">CO<sub>2</sub> Molar Fraction:</label>
                        <input type="number" id="co2_fraction" name="co2_fraction" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="k5">K5:</label>
                        <input type="number" id="k5" name="k5" step="0.01" required>
                    </div>
                </div>
                <button type="submit">Calculate k<sub>G</sub>a</button>
            </form>
        </main>
        <footer>
            <p>&copy; 2024 Laboratorio de Operaciones Unitarias, Universidad Aut√≥noma del Estado de Morelos</p>
        </footer>
    </div>
    <script>
        document.getElementById('material').addEventListener('change', function() {
            const material = this.value;
            fetch('/get_sizes', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({material: material}),
            })
            .then(response => response.json())
            .then(sizes => {
                const sizeSelect = document.getElementById('size');
                sizeSelect.innerHTML = '';
                sizes.forEach(size => {
                    const option = document.createElement('option');
                    option.value = size;
                    option.textContent = size;
                    sizeSelect.appendChild(option);
                });
            });
        });
    </script>
</body>
</html>